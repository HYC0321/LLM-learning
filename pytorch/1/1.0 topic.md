PyTorch 张量练习
练习 1：张量的创建与基本属性
目标： 学习不同方法创建张量，并检查它们的形状、数据类型和设备。
1. 零张量与一张量：
• 创建一个  的全零浮点型张量。
• 创建一个  的全一张量，数据类型为整型。
• 分别打印它们的形状 (.shape 或 .size())、数据类型 (.dtype) 和所在设备 (.device)。
2. 随机张量：
• 创建一个  的随机浮点型张量（均匀分布在 ）。
• 创建一个  的随机整型张量，值在  到  之间（包含  和 ）。
• 打印它们的形状和数据类型。
3. 从 Python 列表或 NumPy 数组创建：
• 创建一个  的 Python 列表 [[1, 2, 3], [4, 5, 6]]，然后将其转换为 PyTorch 张量。
• 创建一个 NumPy 数组 np.array([[7, 8], [9, 10]])，然后将其转换为 PyTorch 张量。
• 确认转换后的张量形状和数据类型。
4. 指定设备：
• 尝试创建一个张量并直接将其放在 GPU 上（如果你的环境支持 CUDA）。如果不支持，放在 CPU 上即可。
• 提示：使用 torch.device('cuda') 或 torch.device('cpu')。
￼
练习 2：张量的索引与切片
目标： 掌握如何从张量中选取特定元素或子区域。
1. 基本索引：
• 创建一个  的张量，其中元素从  到  依次填充（例如：torch.arange(1, 17).reshape(4, 4)）。
• 获取第一行。
• 获取第三列。
• 获取位于 (1, 2)（第二行第三列）的元素。
• 打印结果。
2. 切片 (Slicing)：
• 从上述张量中，获取第  到  行（包括  和  行）。
• 获取所有行，但只获取第  到  列（包括  和  列）。
• 获取第  行到第  行（不包括  行），并且是所有列。
• 打印结果。
3. 布尔索引 (Boolean Indexing)：
• 创建一个  的随机张量，值在  到  之间。
• 使用布尔索引，找出所有大于  的元素。
• 将所有小于  的元素设置为 。
• 打印结果。
4. 花式索引 (Fancy Indexing)：
• 创建一个  的张量，元素从  到  依次填充。
• 使用花式索引，获取第  行。
• 获取 (0, 0), (1, 2), (2, 4) 这三个特定位置的元素。
• 打印结果。
￼
3：张量的变形与维度操作
目标： 学习如何改变张量的形状、维度顺序和添加/删除维度。
1. reshape 与 view：
• 创建一个包含  个元素的  维张量。
• 将其 reshape 成  的张量。
• 再将其 view 成  的张量。
• 尝试用 -1 作为 reshape 的参数，例如将其 reshape 成 。
• 打印每次变形后的形状。
2. transpose 与 permute：
• 创建一个形状为  的张量。
• 使用 transpose 交换第  维和第  维。
• 使用 permute 将维度顺序变为 。
• 打印原始张量和变形后的张量形状。
3. squeeze 与 unsqueeze：
• 创建一个形状为  的张量。
• 使用 squeeze 移除所有大小为  的维度。
• 在移除维度后的张量的第  维和第  维（注意是新张量上的维度）分别使用 unsqueeze 添加一个大小为  的维度。
• 打印每次操作后的形状。
￼
4：张量的数学运算
目标： 练习张量的逐元素运算、矩阵运算、聚合操作等。
1. 逐元素运算 (Element-wise Operations)：
• 创建两个形状相同的张量 A 和 B（例如  的随机张量）。
• 计算 A + B (加法)、A - B (减法)、A * B (乘法)、A / B (除法)。
• 计算 A 的平方根 (torch.sqrt(A))。
• 计算 A 的绝对值 (torch.abs(A))。
• 打印结果。
2. 矩阵运算 (Matrix Operations)：
• 创建两个张量 C (形状 ) 和 D (形状 )。
• 执行矩阵乘法 C @ D 或 torch.matmul(C, D)。
• 创建一个  的张量 E。计算它的转置 (E.T 或 E.transpose(0, 1))。
• 打印结果。
3. 聚合运算 (Aggregation Operations)：
• 创建一个  的随机张量 F。
• 计算 F 的所有元素的和 (torch.sum(F))。
• 计算 F 每行的平均值 (torch.mean(F, dim=1))。
• 计算 F 每列的最大值 (torch.max(F, dim=0))。
• 计算 F 中所有元素的最小值 (torch.min(F))。
• 打印结果。
4. 广播 (Broadcasting)：
• 创建一个形状为  的张量 G。
• 创建一个形状为  的张量 H。
• 计算 G + H。观察结果的形状，并解释广播机制在这里是如何工作的。
• 打印结果和形状。
￼
额外挑战：综合运用
1. 标准化：
• 创建一个  的随机浮点型张量 X。
• 对 X 进行标准化（Z-score normalization）：，其中  是张量 X 的平均值， 是张量 X 的标准差。
• 打印标准化后的张量的平均值和标准差（它们应该接近  和 ）。
2. 条件赋值：
• 创建一个  的随机整型张量，值在  到  之间。
• 将所有小于  的元素替换为 。
• 将所有大于  的元素替换为 。
• 打印修改后的张量。
￼
提示：
• 每次练习都可以在 Python 解释器或 Jupyter Notebook 中运行。
• 使用 import torch 开始。
• 对于随机数，可以使用 torch.rand(), torch.randn(), torch.randint()。
• 对于填充序列，可以使用 torch.arange()。
• 遇到不确定的函数用法时，查阅 PyTorch 官方文档是最好的方法！
祝你练习愉快，希望这些能帮你更好地掌握 PyTorch 张量的操作！